<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Admin - SABAR</title>
<link rel="stylesheet" href="css/style.css"></head><body>
<div class="header"><img src="images/logo.png"><h1>SABAR Admin</h1></div>
<main class="container"><div class="admin-box"><h3>Manage Shops</h3><div id="list"></div><hr/><h4>Add / Edit Shop</h4><input id="s_id" class="input" placeholder="ID (leave empty for new)"><input id="s_name" class="input" placeholder="Name"><input id="s_type" class="input" placeholder="Type (Boys/Girls/Unisex)"><input id="s_loc" class="input" placeholder="Location"><input id="s_rating" class="input" placeholder="Rating"><input id="s_about" class="input" placeholder="About"><input id="s_images" class="input" placeholder="Image URLs comma separated"><div style="display:flex;gap:8px"><button class="btn" onclick="saveShop()">Save</button><button class="btn ghost" onclick="clearForm()">Clear</button></div><p id="msg"></p></div></main>
<script>
const initial = JSON.parse(localStorage.getItem('sabarShops')||'null');
if(!initial) localStorage.setItem('sabarShops', JSON.stringify(SHOPS));
function loadList(){ const arr = JSON.parse(localStorage.getItem('sabarShops')||'[]'); const el = document.getElementById('list'); el.innerHTML=''; arr.forEach(s=> el.innerHTML += `<div class="admin-box" style="margin-bottom:8px"><b>${s.name}</b> • ${s.type} • ${s.location} <button onclick="editShop(${s.id})">Edit</button> <button onclick="delShop(${s.id})">Delete</button></div>`); }
function editShop(id){ const arr = JSON.parse(localStorage.getItem('sabarShops')||'[]'); const s = arr.find(x=>x.id===id); document.getElementById('s_id').value=s.id; document.getElementById('s_name').value=s.name; document.getElementById('s_type').value=s.type; document.getElementById('s_loc').value=s.location; document.getElementById('s_rating').value=s.rating; document.getElementById('s_about').value=s.about; document.getElementById('s_images').value = (s.images||[]).join(','); }
function delShop(id){ if(!confirm('Delete?')) return; let arr = JSON.parse(localStorage.getItem('sabarShops')||'[]'); arr = arr.filter(x=>x.id!==id); localStorage.setItem('sabarShops', JSON.stringify(arr)); loadList(); }
function saveShop(){ let arr = JSON.parse(localStorage.getItem('sabarShops')||'[]'); const id = document.getElementById('s_id').value || (Date.now()%100000); const shop = {id:Number(id), name:document.getElementById('s_name').value, type:document.getElementById('s_type').value, location:document.getElementById('s_loc').value, rating: parseFloat(document.getElementById('s_rating').value)||4.5, about:document.getElementById('s_about').value, images: document.getElementById('s_images').value.split(',').map(x=>x.trim()).filter(x=>x)}; const idx = arr.findIndex(x=>x.id===Number(id)); if(idx>=0) arr[idx]=shop; else arr.push(shop); localStorage.setItem('sabarShops', JSON.stringify(arr)); document.getElementById('msg').innerText='Saved'; loadList(); }
function clearForm(){ ['s_id','s_name','s_type','s_loc','s_rating','s_about','s_images'].forEach(id=>document.getElementById(id).value=''); }
document.addEventListener('DOMContentLoaded', loadList);
</script>
</body></html>
